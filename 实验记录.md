实验记录

test5 p=2

1.LADMC v.s. LRMC

**1.1 df_2009_uxi.csv 同一年份（2009）**

**LADMC**

df_2009_uxi.csv [:1300,:50]  test 25%

基于矩阵分解的算法

| algo | SVD                 | SVDpp（SVD++）     | NMF                |
| ---- | ------------------- | ------------------ | ------------------ |
| RMSE | 0.45067382375035014 | 0.5378999018344192 | 0.6414984384294871 |
| time | 1m9.6s              | 8m1.6s             | 1m8.3s             |

k-NN启发式算法

| algo | **KNNBasic**       | KNNWithMeans       | KNNWithZScore      | **KNNBaseline**    |
| ---- | ------------------ | ------------------ | ------------------ | ------------------ |
| RMSE | 0.4689710698019906 | 0.8344237026869508 | 0.8249301060420109 | 0.5556788143868251 |
| time | 1m8.1s             | 1m8.6s             | 1m8.2s             | 1m10.3s            |

**LRMC**

df_2009_uxi.csv [:1300,:50]  test 25%

基于矩阵分解的算法

| algo | SVD               | SVDpp（SVD++）     | NMF                |
| ---- | ----------------- | ------------------ | ------------------ |
| RMSE | 0.563121997441783 | 0.5529193745087212 | 0.6090118633124804 |
| time | 1.7s              | 3.7s               | 1.7s               |

k-NN启发式算法

| algo | **KNNBasic**       | KNNWithMeans       | KNNWithZScore      | **KNNBaseline**  |
| ---- | ------------------ | ------------------ | ------------------ | ---------------- |
| RMSE | 0.5758221881313996 | 0.5631395107839678 | 0.5659559754799094 | 0.55522929045803 |
| time | 1.9s               | 2.9s               | 2.9s               | 2.1s             |



表现差不多，但LRMC更省时，验证了同一年份低秩的猜想



**1.2 douban_uxi.csv 混合年份**

**LADMC**

douban_uxi.csv [:1300,:50]  test 25%

基于矩阵分解的算法

| algo | SVD                 | SVDpp（SVD++）      | NMF                |
| ---- | ------------------- | ------------------- | ------------------ |
| RMSE | 0.17979579188635605 | 0.22146058406527272 | 0.4610502507105664 |
| time | 2m37.6s             | 26m36.8s            | 2m43.1s            |

k-NN启发式算法

| algo | **KNNBasic**        | KNNWithMeans        | KNNWithZScore       | **KNNBaseline**     |
| ---- | ------------------- | ------------------- | ------------------- | ------------------- |
| RMSE | 0.22203037761270725 | 0.41951334578726684 | 0.41541392426803647 | 0.23862522350924084 |
| time | 2m48.8s             | 2m50.9s             | 2m49.7s             | 2m51.8s             |



**LRMC**

douban_uxi.csv [:1300,:50]  test 25%

基于矩阵分解的算法

| algo | SVD                | SVDpp（SVD++）     | NMF               |
| ---- | ------------------ | ------------------ | ----------------- |
| RMSE | 0.5635548572427637 | 0.5596426453956544 | 0.594618338131357 |
| time | 2.1s               | 7.1s               | 2.2s              |

k-NN启发式算法

| algo | **KNNBasic**       | KNNWithMeans       | KNNWithZScore      | **KNNBaseline**  |
| ---- | ------------------ | ------------------ | ------------------ | ---------------- |
| RMSE | 0.5807366737755917 | 0.5709067869440233 | 0.5692639172912933 | 0.56171260050451 |
| time | 3.5s               | 3.5s               | 3.6s               | 3.7s             |



尽管用时还是有差距，但LADMC普遍表现比LRMC更好。也验证了单一年份比混合年份的秩更低。



2.规模与用时的关系

LADMC douban_uxi.csv 变化u和i的个数 观察用时变化

SVD

| 量                     | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8    |
| ---------------------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ---- |
| d                      | 10    | 20    | 30    | 40    | 50    | 60    | 70    | 80   |
| D（=$\binom{d+1}{2}$） | 55    | 210   | 465   | 820   | 1275  | 1830  | 2485  | 3240 |
| N（$\ge$D）            | D1~D8 | D2~D8 | D3~D8 | D4~D8 | D5~D8 | D6~D8 | D7~D8 | D8   |

| d    | N    | time  | RMSE               |
| ---- | ---- | ----- | ------------------ |
| 10   | 55   | 4.1s  | 0.8658562550881174 |
|      | 210  | 4.1s  | 1.1007747843945352 |
|      | 465  | 6.8s  | 0.9259514772278763 |
|      | 820  | 11.1s | 1.0400643441976898 |
|      | 1275 | 15.9s | 0.9622709493749287 |
|      | 1830 | 21.2s | 0.9776475536712044 |
|      | 2485 | 28.4s | 1.019263765806111  |
|      | 3240 | 36.3s | 0.995039659270756  |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 20   | 210  | 9.8s   | 0.37919362618486335 |
|      | 465  | 18.8s  | 0.43961152329847697 |
|      | 820  | 33.1s  | 0.42452646795442234 |
|      | 1275 | 49.6s  | 0.41182518916304955 |
|      | 1830 | 71.3s  | 0.41718167201439277 |
|      | 2485 | 109.5s | 0.39539635053995786 |
|      | 3240 | 125.5s | 0.41634761664707776 |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 30   | 465  | 36.6s  | 0.2573866501642655  |
|      | 820  | 117.7s | 0.31109749364395506 |
|      | 1275 | 121.5s | 0.3081998660260867  |
|      | 1830 | 89.7s  | 0.2953505928425652  |
|      | 2485 | 120.2s | 0.2975872150060908  |
|      | 3240 | 160.7s | 0.2657494190677348  |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 40   | 820  | 66.4s  | 0.23202011248776347 |
|      | 1275 | 104.3s | 0.19012278410378297 |
|      | 1830 | 145.4s | 0.16896030214289678 |
|      | 2485 | 209.1s | 0.21315072713869027 |
|      | 3240 | 265.7s | 0.21301869991010694 |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 50   | 1275 | 154.3s | 0.18167471628787268 |
|      | 1830 | 220.7s | 0.16866707534364375 |
|      | 2485 | 308.9s | 0.1416091640609614  |
|      | 3240 | 409.7s | 0.17289623101966617 |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 60   | 1830 | 303.1s | 0.14817512340476935 |
|      | 2485 | 438.3s | 0.14964288197705508 |
|      | 3240 | 558.8s | 0.17316123568272535 |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 70   | 2485 | 540.5s | 0.1453486971325936  |
|      | 3240 | 713.9s | 0.13571467845060822 |

| d    | N    | time   | RMSE                |
| ---- | ---- | ------ | ------------------- |
| 80   | 3240 | 898.3s | 0.13043322864991816 |



3.框架验证

LADMC_SVD 

| year     | 评分数 | 矩阵维数   | RMSE               | 运行时间 |
| -------- | ------ | ---------- | ------------------ | -------- |
| 2005     | 3793   | (449,47)   | 0.9014310426675908 | 15.6s    |
| 2006     | 19087  | (3615,51)  | 1.3812532148204568 | 1m0.1s   |
| 2007     | 23637  | (3157,55)  | 1.0173414980795117 | 1m29.1s  |
| 2008     | 53272  | (8159,69)  | 1.142680680096084  | 3m26.1s  |
| 2009     | 79470  | (11092,75) | 0.9918157091057945 | 5m28.7s  |
| 2010     | 60572  | (10836,81) | 1.2526953738100184 | 3m56.1s  |
| 2011     | 22624  | (6271,81)  | 1.665586340736757  | 1m29.8s  |
| 混合年份 | 262455 | (22553,81) | 0.7600480690523395 | 30m10.6s |





LDMC_SVD

|        | 评分数 | 矩阵维数   | 运行时间 |
| ------ | ------ | ---------- | -------- |
| douban | 262455 | (22553,81) | 2.5s     |

0.5530511549448753 

| year     | 评分数 | 矩阵维数   | RMSE               | 运行时间 |
| -------- | ------ | ---------- | ------------------ | -------- |
| 2005     | 3793   | (449,47)   | 0.5537783276832644 | 1.1s     |
| 2006     | 19087  | (3615,51)  | 0.5527215039687613 | 2.3s     |
| 2007     | 23637  | (3157,55)  | 0.55846362094753   | 2.4s     |
| 2008     | 53272  | (8159,69)  | 0.5483682685708777 | 3.5s     |
| 2009     | 79470  | (11092,75) | 0.569290142647401  | 4.7s     |
| 2010     | 60572  | (10836,81) | 0.5537929864734115 | 4.3s     |
| 2011     | 22624  | (6271,81)  | 0.5530511549448753 | 2.3s     |
| 混合年份 | 262455 | (22553,81) |                    | 2.5s     |
